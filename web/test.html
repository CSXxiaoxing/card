<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Document</title>
</head>
<body>
    <script type="text/javascript"> 
    var result=document.getElementById("result"); 
    var file=document.getElementById("file"); 

    //判断浏览器是否支持FileReader接口 
    if(typeof FileReader == 'undefined'){ 
        result.InnerHTML="<p>你的浏览器不支持FileReader接口！</p>"; 
        //使选择控件不可操作 
        file.setAttribute("disabled","disabled"); 
    } 

    function readAsDataURL(){ 
        //检验是否为图像文件 
        var file = document.getElementById("file").files[0]; 
        if(!/image\/\w+/.test(file.type)){ 
            alert("看清楚，这个需要图片！"); 
            return false; 
        } 
        var reader = new FileReader(); 
        //将文件以Data URL形式读入页面 
        reader.readAsDataURL(file); 
        reader.onload=function(e){ 
            var result=document.getElementById("result"); 
            //显示文件 
            result.innerHTML='<img src="' + this.result +'" alt="" />'; 
        } 
    } 

    function readAsBinaryString(){ 
        var files = document.getElementById("a147");
        var audioFile = new File([files], 'a001.mp3' ); 
        var file = {};
        file.data = audioFile;
        file.url = window.URL.createObjectURL(audioFile);
        file.filename = audioFile.name || '';
        var index = file.filename.lastIndexOf('.');
        if (index != -1) {
        file.filetype = file.filename.substring(index + 1).toLowerCase();
        }
        console.log(file)
        var reader = new FileReader(); 
        //将文件以二进制形式读入页面 
        reader.readAsBinaryString(files); 
        // reader.readAsDataURL(file);
        reader.onload=function(f){ 
            var result=document.getElementById("result"); 
            //显示文件 
            result.innerHTML=this.result; 
        } 
    } 

    function readAsText(){ 
        var file = document.getElementById("file").files[0]; 
        var reader = new FileReader(); 
        //将文件以文本形式读入页面 
        reader.readAsText(file); 
        reader.onload=function(f){ 
            var result=document.getElementById("result"); 
            //显示文件 
            result.innerHTML=this.result; 
        } 
    } 
    </script> 
    <audio src="blob:http://192.168.31.83:8090/90ed7bc8-be01-492e-8e78-6bc0ab9f8936"></audio>
    <video src='blob:http://192.168.31.83:8090/90ed7bc8-be01-492e-8e78-6bc0ab9f8936' 
        id='a147' controls="controls"></video>
    <!-- <a href="./a001.mp3" id='a147'>666666666666</a> -->
    <p> 
        <label>请选择一个文件：</label> 
        <input type="file" id="file" /> 
        <input type="button" value="读取图像" onclick="readAsDataURL()" /> 
        <input type="button" value="读取二进制数据" onclick="readAsBinaryString()" /> 
        <input type="button" value="读取文本文件" onclick="readAsText()" /> 
    </p> 
    <div id="result" name="result"></div>  
</body>
</html>